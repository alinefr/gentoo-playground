--- scripts/genie.lua.orig	2016-07-18 09:17:11.270114016 +0100
+++ scripts/genie.lua	2016-07-18 09:15:24.000000000 +0100
@@ -38,7 +38,11 @@
 	end
 	local cnt = 10000
 	for word in string.gmatch(str, '([^.]+)') do
-		val = val + tonumber(word) * cnt
+		matched=tonumber(word)
+		if (matched == nil) then
+			break
+		end
+		val = val + matched * cnt
 		cnt = cnt / 100
 	end
 	return val
